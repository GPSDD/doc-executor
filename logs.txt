Running Start

> doc-writer@1.0.0 start /opt/doc-executor
> NODE_PATH=app/src node app/index.js

{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Initializing doc-executor","time":"2018-09-04T14:40:34.596Z","src":{"file":"/opt/doc-executor/app/src/app.js","line":3},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Connecting to queue DOC-STATUS","time":"2018-09-04T14:40:34.666Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":13,"func":"StatusQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Connecting to queue DOC-DATA","time":"2018-09-04T14:40:34.989Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":17,"func":"DataQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Connecting to queue DOC-EXECUTOR-TASKS","time":"2018-09-04T14:40:35.206Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":20,"func":"ExecutorQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Connected","time":"2018-09-04T14:40:35.272Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":16,"func":"StatusQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Connected","time":"2018-09-04T14:40:35.273Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":20,"func":"DataQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":" [*] Waiting for messages in DOC-EXECUTOR-TASKS","time":"2018-09-04T14:40:35.275Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":40,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Connected","time":"2018-09-04T14:40:35.275Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":23,"func":"ExecutorQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"3500b55c-5910-400d-a5c7-031df82e1076\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"datasetId\":\"0c097907-5434-4c06-8959-17c600318a3c\",\"fileUrl\":\"http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-09-04T14:40:35.278Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '3500b55c-5910-400d-a5c7-031df82e1076',\n  type: 'EXECUTION_CREATE',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  datasetId: '0c097907-5434-4c06-8959-17c600318a3c',\n  fileUrl: 'http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-09-04T14:40:35.278Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Create task","time":"2018-09-04T14:40:35.278Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Creating index","time":"2018-09-04T14:40:35.278Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Creating index index_0c09790754344c06895917c600318a3c_1536072035278 and type type in elastic","time":"2018-09-04T14:40:35.278Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index created message of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909 and index index_0c09790754344c06895917c600318a3c_1536072035278","time":"2018-09-04T14:40:35.848Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '4f7eade7-a092-4384-8370-157167689bdf',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536072035278' }","time":"2018-09-04T14:40:37.851Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting importing service","time":"2018-09-04T14:40:37.854Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting read file","time":"2018-09-04T14:40:37.855Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":53,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv","time":"2018-09-04T14:40:37.855Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-09-04T14:40:37.856Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":26,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Checking if the url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv exists","time":"2018-09-04T14:40:37.856Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Headers  text/csv 200","time":"2018-09-04T14:40:39.299Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":60,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Downloading....","time":"2018-09-04T14:40:39.300Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":70,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Temporal path /tmp/u1t95Zj9EyxGsXvCO4eGfEB1FJqU6niW.csv . Downloading","time":"2018-09-04T14:40:39.300Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":72,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending request","time":"2018-09-04T14:40:39.300Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"File size: 1.5 KiB","time":"2018-09-04T14:40:40.564Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-09-04T14:40:40.565Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":74,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting process file","time":"2018-09-04T14:40:40.566Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Removing file /tmp/u1t95Zj9EyxGsXvCO4eGfEB1FJqU6niW.csv","time":"2018-09-04T14:40:40.572Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":55,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Total Row Count: 13","time":"2018-09-04T14:40:40.572Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Finishing reading file","time":"2018-09-04T14:40:40.572Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":76,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending data message (26)","time":"2018-09-04T14:40:40.573Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":57,"func":"sendDataMessage"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message","time":"2018-09-04T14:40:42.576Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":39,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read data of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:42.578Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":72,"func":"sendReadData"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ReadDataMessage {\n  id: '5cb9a59c-f9cc-4423-83ff-6ade8ef93193',\n  type: 'STATUS_READ_DATA',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909' }","time":"2018-09-04T14:40:44.579Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Pack saved successfully, num: 1","time":"2018-09-04T14:40:44.581Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":81,"func":"dataQueueService.sendDataMessage.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending read file message","time":"2018-09-04T14:40:44.581Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":73,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read File of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:44.581Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":79,"func":"sendReadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ReadFileMessage {\n  id: '3ed10f8e-73ad-4252-9f3b-2d0cca1b0303',\n  type: 'STATUS_READ_FILE',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909' }","time":"2018-09-04T14:40:46.583Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:46.585Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"0edd51bf-5256-417a-ae6a-66fec07c33bc\",\"type\":\"EXECUTION_DELETE_INDEX\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"index\":\"index_0c09790754344c06895917c600318a3c_1536071823177\"}","time":"2018-09-04T14:40:46.586Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '0edd51bf-5256-417a-ae6a-66fec07c33bc',\n  type: 'EXECUTION_DELETE_INDEX',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536071823177' }","time":"2018-09-04T14:40:46.586Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Deleting index index_0c09790754344c06895917c600318a3c_1536071823177","time":"2018-09-04T14:40:46.586Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":161,"func":"deleteIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index deleted of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:46.776Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":93,"func":"sendIndexDeleted"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexDeletedMessage {\n  id: 'c0036494-2c10-48cc-a44d-8b29d5b2fb52',\n  type: 'STATUS_INDEX_DELETED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  lastCheckedDate: 2018-09-04T14:40:46.777Z }","time":"2018-09-04T14:40:48.779Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:48.780Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"69f2a4a6-e82b-44e5-a4ae-3f6b572e68f1\",\"type\":\"EXECUTION_DELETE_INDEX\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"index\":\"index_0c09790754344c06895917c600318a3c_1536071831803\"}","time":"2018-09-04T14:40:48.781Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '69f2a4a6-e82b-44e5-a4ae-3f6b572e68f1',\n  type: 'EXECUTION_DELETE_INDEX',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536071831803' }","time":"2018-09-04T14:40:48.781Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Deleting index index_0c09790754344c06895917c600318a3c_1536071831803","time":"2018-09-04T14:40:48.781Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":161,"func":"deleteIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index deleted of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:48.972Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":93,"func":"sendIndexDeleted"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexDeletedMessage {\n  id: 'fa982211-4525-4570-8b26-38c8daef1050',\n  type: 'STATUS_INDEX_DELETED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  lastCheckedDate: 2018-09-04T14:40:48.972Z }","time":"2018-09-04T14:40:50.974Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:50.975Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"4ccb4ae1-bfcc-496a-99f0-cab12986ae8a\",\"type\":\"EXECUTION_DELETE_INDEX\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"index\":\"index_0c09790754344c06895917c600318a3c_1536071853663\"}","time":"2018-09-04T14:40:50.976Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '4ccb4ae1-bfcc-496a-99f0-cab12986ae8a',\n  type: 'EXECUTION_DELETE_INDEX',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536071853663' }","time":"2018-09-04T14:40:50.976Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Deleting index index_0c09790754344c06895917c600318a3c_1536071853663","time":"2018-09-04T14:40:50.976Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":161,"func":"deleteIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index deleted of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:51.170Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":93,"func":"sendIndexDeleted"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexDeletedMessage {\n  id: 'db0a15c8-ec32-4f74-8d0c-df71b0773ed3',\n  type: 'STATUS_INDEX_DELETED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  lastCheckedDate: 2018-09-04T14:40:51.170Z }","time":"2018-09-04T14:40:53.172Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:53.174Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"6fdceb08-766b-467a-9bbe-267a42bd277c\",\"type\":\"EXECUTION_DELETE_INDEX\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"index\":\"index_0c09790754344c06895917c600318a3c_1536071887683\"}","time":"2018-09-04T14:40:53.174Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '6fdceb08-766b-467a-9bbe-267a42bd277c',\n  type: 'EXECUTION_DELETE_INDEX',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536071887683' }","time":"2018-09-04T14:40:53.175Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Deleting index index_0c09790754344c06895917c600318a3c_1536071887683","time":"2018-09-04T14:40:53.175Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":161,"func":"deleteIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index deleted of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:53.331Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":93,"func":"sendIndexDeleted"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexDeletedMessage {\n  id: '2181c660-aa4a-43de-8cf6-9eccb4064e19',\n  type: 'STATUS_INDEX_DELETED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  lastCheckedDate: 2018-09-04T14:40:53.331Z }","time":"2018-09-04T14:40:55.333Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:55.334Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"dc1ee03b-9ea0-4856-864a-96e8b72bd5fe\",\"type\":\"EXECUTION_DELETE_INDEX\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"index\":\"index_0c09790754344c06895917c600318a3c_1536071946595\"}","time":"2018-09-04T14:40:55.335Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: 'dc1ee03b-9ea0-4856-864a-96e8b72bd5fe',\n  type: 'EXECUTION_DELETE_INDEX',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536071946595' }","time":"2018-09-04T14:40:55.336Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Deleting index index_0c09790754344c06895917c600318a3c_1536071946595","time":"2018-09-04T14:40:55.336Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":161,"func":"deleteIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index deleted of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:55.473Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":93,"func":"sendIndexDeleted"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexDeletedMessage {\n  id: '77fef1a3-3017-4ab8-bd24-7fcc276e66d9',\n  type: 'STATUS_INDEX_DELETED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  lastCheckedDate: 2018-09-04T14:40:55.473Z }","time":"2018-09-04T14:40:57.474Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:57.475Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"76581e1c-d20b-4667-95f7-3902d31bb7ca\",\"type\":\"EXECUTION_CONFIRM_IMPORT\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"index\":\"index_0c09790754344c06895917c600318a3c_1536072035278\"}","time":"2018-09-04T14:40:57.476Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '76581e1c-d20b-4667-95f7-3902d31bb7ca',\n  type: 'EXECUTION_CONFIRM_IMPORT',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536072035278' }","time":"2018-09-04T14:40:57.476Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Confirming index index_0c09790754344c06895917c600318a3c_1536072035278","time":"2018-09-04T14:40:57.477Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":167,"func":"confirmImport"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read File of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909","time":"2018-09-04T14:40:57.617Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":86,"func":"sendImportConfirmed"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ImportConfirmedMessage {\n  id: '5fe1006e-b8fc-4ce3-b135-7d3e98dbb812',\n  type: 'STATUS_IMPORT_CONFIRMED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  lastCheckedDate: 2018-09-04T14:40:57.617Z }","time":"2018-09-04T14:40:59.620Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:40:59.621Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"869881ee-d354-4886-832d-eb05cf295d0e\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"6794cd56-33a0-4033-b706-5a69f3cce35e\",\"datasetId\":\"c3dde250-7c11-43b2-b55c-24d15de4d122\",\"fileUrl\":\"http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-09-04T14:40:59.622Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '869881ee-d354-4886-832d-eb05cf295d0e',\n  type: 'EXECUTION_CREATE',\n  taskId: '6794cd56-33a0-4033-b706-5a69f3cce35e',\n  datasetId: 'c3dde250-7c11-43b2-b55c-24d15de4d122',\n  fileUrl: 'http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-09-04T14:40:59.622Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Create task","time":"2018-09-04T14:40:59.622Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Creating index","time":"2018-09-04T14:40:59.622Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Creating index index_c3dde2507c1143b2b55c24d15de4d122_1536072059622 and type type in elastic","time":"2018-09-04T14:40:59.622Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index created message of taskId 6794cd56-33a0-4033-b706-5a69f3cce35e and index index_c3dde2507c1143b2b55c24d15de4d122_1536072059622","time":"2018-09-04T14:41:00.429Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '76cf6829-3ee6-4f95-91ad-3000f2257b7d',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: '6794cd56-33a0-4033-b706-5a69f3cce35e',\n  index: 'index_c3dde2507c1143b2b55c24d15de4d122_1536072059622' }","time":"2018-09-04T14:41:02.432Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting importing service","time":"2018-09-04T14:41:02.433Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting read file","time":"2018-09-04T14:41:02.433Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":53,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv","time":"2018-09-04T14:41:02.433Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-09-04T14:41:02.433Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":26,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Checking if the url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv exists","time":"2018-09-04T14:41:02.433Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Headers  text/csv 200","time":"2018-09-04T14:41:03.292Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":60,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Downloading....","time":"2018-09-04T14:41:03.292Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":70,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Temporal path /tmp/9h8clvWkZwuS21TkudTJrsiLWuAHUzo7.csv . Downloading","time":"2018-09-04T14:41:03.292Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":72,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending request","time":"2018-09-04T14:41:03.292Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"File size: 1.5 KiB","time":"2018-09-04T14:41:04.691Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-09-04T14:41:04.691Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":74,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting process file","time":"2018-09-04T14:41:04.691Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Removing file /tmp/9h8clvWkZwuS21TkudTJrsiLWuAHUzo7.csv","time":"2018-09-04T14:41:04.694Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":55,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Total Row Count: 13","time":"2018-09-04T14:41:04.694Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Finishing reading file","time":"2018-09-04T14:41:04.694Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":76,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending data message (26)","time":"2018-09-04T14:41:04.694Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":57,"func":"sendDataMessage"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message","time":"2018-09-04T14:41:06.695Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":39,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read data of taskId 6794cd56-33a0-4033-b706-5a69f3cce35e","time":"2018-09-04T14:41:06.696Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":72,"func":"sendReadData"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ReadDataMessage {\n  id: '90ab16d9-c01d-4632-92ba-7acce8623a68',\n  type: 'STATUS_READ_DATA',\n  taskId: '6794cd56-33a0-4033-b706-5a69f3cce35e' }","time":"2018-09-04T14:41:08.698Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Pack saved successfully, num: 1","time":"2018-09-04T14:41:08.699Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":81,"func":"dataQueueService.sendDataMessage.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending read file message","time":"2018-09-04T14:41:08.699Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":73,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read File of taskId 6794cd56-33a0-4033-b706-5a69f3cce35e","time":"2018-09-04T14:41:08.699Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":79,"func":"sendReadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ReadFileMessage {\n  id: '37e10753-7cd2-40e1-9f87-77c07328cdc3',\n  type: 'STATUS_READ_FILE',\n  taskId: '6794cd56-33a0-4033-b706-5a69f3cce35e' }","time":"2018-09-04T14:41:10.701Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:41:10.702Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"cbf627c5-ee55-43fa-b0ec-e1e8705aba07\",\"type\":\"EXECUTION_CONFIRM_IMPORT\",\"taskId\":\"6794cd56-33a0-4033-b706-5a69f3cce35e\",\"index\":\"index_c3dde2507c1143b2b55c24d15de4d122_1536072059622\"}","time":"2018-09-04T14:41:10.712Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: 'cbf627c5-ee55-43fa-b0ec-e1e8705aba07',\n  type: 'EXECUTION_CONFIRM_IMPORT',\n  taskId: '6794cd56-33a0-4033-b706-5a69f3cce35e',\n  index: 'index_c3dde2507c1143b2b55c24d15de4d122_1536072059622' }","time":"2018-09-04T14:41:10.713Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Confirming index index_c3dde2507c1143b2b55c24d15de4d122_1536072059622","time":"2018-09-04T14:41:10.713Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":167,"func":"confirmImport"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read File of taskId 6794cd56-33a0-4033-b706-5a69f3cce35e","time":"2018-09-04T14:41:10.850Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":86,"func":"sendImportConfirmed"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ImportConfirmedMessage {\n  id: '1c4693f1-3f94-4fb3-ab5e-62cde2f223e8',\n  type: 'STATUS_IMPORT_CONFIRMED',\n  taskId: '6794cd56-33a0-4033-b706-5a69f3cce35e',\n  lastCheckedDate: 2018-09-04T14:41:10.850Z }","time":"2018-09-04T14:41:12.852Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:41:12.854Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"e2140a03-bdb4-4b33-800e-0152c16b2bae\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"0c04a4b3-ad5a-433a-b398-d594c79ac211\",\"datasetId\":\"830b9bcc-902c-4d5d-8d58-401be1685e9b\",\"fileUrl\":\"http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-09-04T14:45:43.902Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: 'e2140a03-bdb4-4b33-800e-0152c16b2bae',\n  type: 'EXECUTION_CREATE',\n  taskId: '0c04a4b3-ad5a-433a-b398-d594c79ac211',\n  datasetId: '830b9bcc-902c-4d5d-8d58-401be1685e9b',\n  fileUrl: 'http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-09-04T14:45:43.903Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Create task","time":"2018-09-04T14:45:43.903Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Creating index","time":"2018-09-04T14:45:43.903Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Creating index index_830b9bcc902c4d5d8d58401be1685e9b_1536072343903 and type type in elastic","time":"2018-09-04T14:45:43.903Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending index created message of taskId 0c04a4b3-ad5a-433a-b398-d594c79ac211 and index index_830b9bcc902c4d5d8d58401be1685e9b_1536072343903","time":"2018-09-04T14:45:44.728Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '0a4ad104-8437-4720-b226-efccfee9f5f6',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: '0c04a4b3-ad5a-433a-b398-d594c79ac211',\n  index: 'index_830b9bcc902c4d5d8d58401be1685e9b_1536072343903' }","time":"2018-09-04T14:45:46.731Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting importing service","time":"2018-09-04T14:45:46.733Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting read file","time":"2018-09-04T14:45:46.735Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":53,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv","time":"2018-09-04T14:45:46.735Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-09-04T14:45:46.737Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":26,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Checking if the url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv exists","time":"2018-09-04T14:45:46.737Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Headers  text/csv 200","time":"2018-09-04T14:45:48.157Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":60,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Downloading....","time":"2018-09-04T14:45:48.158Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":70,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Temporal path /tmp/ClACUn142zI3bkHtDt68mHWJbIyX8zv0.csv . Downloading","time":"2018-09-04T14:45:48.158Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":72,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending request","time":"2018-09-04T14:45:48.158Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"File size: 1.5 KiB","time":"2018-09-04T14:45:49.365Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-09-04T14:45:49.365Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":74,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Starting process file","time":"2018-09-04T14:45:49.366Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Removing file /tmp/ClACUn142zI3bkHtDt68mHWJbIyX8zv0.csv","time":"2018-09-04T14:45:49.368Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":55,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Total Row Count: 13","time":"2018-09-04T14:45:49.368Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Finishing reading file","time":"2018-09-04T14:45:49.368Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":76,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending data message (26)","time":"2018-09-04T14:45:49.368Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":57,"func":"sendDataMessage"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message","time":"2018-09-04T14:45:51.369Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":39,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read data of taskId 0c04a4b3-ad5a-433a-b398-d594c79ac211","time":"2018-09-04T14:45:51.371Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":72,"func":"sendReadData"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ReadDataMessage {\n  id: '45a65a1d-a46f-4ce2-b097-245e2dec8027',\n  type: 'STATUS_READ_DATA',\n  taskId: '0c04a4b3-ad5a-433a-b398-d594c79ac211' }","time":"2018-09-04T14:45:53.374Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Pack saved successfully, num: 1","time":"2018-09-04T14:45:53.375Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":81,"func":"dataQueueService.sendDataMessage.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending read file message","time":"2018-09-04T14:45:53.375Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":73,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read File of taskId 0c04a4b3-ad5a-433a-b398-d594c79ac211","time":"2018-09-04T14:45:53.375Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":79,"func":"sendReadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ReadFileMessage {\n  id: '115641b7-4075-418a-8ccf-96a574ab29c7',\n  type: 'STATUS_READ_FILE',\n  taskId: '0c04a4b3-ad5a-433a-b398-d594c79ac211' }","time":"2018-09-04T14:45:55.376Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:45:55.377Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Message received {\"id\":\"5283a908-ccb9-4bba-80c0-8711b40bc0d8\",\"type\":\"EXECUTION_CONFIRM_IMPORT\",\"taskId\":\"0c04a4b3-ad5a-433a-b398-d594c79ac211\",\"index\":\"index_830b9bcc902c4d5d8d58401be1685e9b_1536072343903\"}","time":"2018-09-04T14:45:55.389Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"message content { id: '5283a908-ccb9-4bba-80c0-8711b40bc0d8',\n  type: 'EXECUTION_CONFIRM_IMPORT',\n  taskId: '0c04a4b3-ad5a-433a-b398-d594c79ac211',\n  index: 'index_830b9bcc902c4d5d8d58401be1685e9b_1536072343903' }","time":"2018-09-04T14:45:55.389Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Confirming index index_830b9bcc902c4d5d8d58401be1685e9b_1536072343903","time":"2018-09-04T14:45:55.389Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":167,"func":"confirmImport"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":20,"msg":"Sending Read File of taskId 0c04a4b3-ad5a-433a-b398-d594c79ac211","time":"2018-09-04T14:45:55.531Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":86,"func":"sendImportConfirmed"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Sending message ImportConfirmedMessage {\n  id: '9f904fac-7ec1-4080-8e66-36115081f1da',\n  type: 'STATUS_IMPORT_CONFIRMED',\n  taskId: '0c04a4b3-ad5a-433a-b398-d594c79ac211',\n  lastCheckedDate: 2018-09-04T14:45:55.531Z }","time":"2018-09-04T14:45:57.533Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5df487647-qljwk","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-09-04T14:45:57.534Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
