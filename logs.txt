Running Start

> doc-writer@1.0.0 start /opt/doc-executor
> NODE_PATH=app/src node app/index.js

{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Initializing doc-executor","time":"2018-09-04T14:38:06.972Z","src":{"file":"/opt/doc-executor/app/src/app.js","line":3},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Connecting to queue DOC-STATUS","time":"2018-09-04T14:38:07.042Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":13,"func":"StatusQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Connecting to queue DOC-DATA","time":"2018-09-04T14:38:07.384Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":17,"func":"DataQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Connecting to queue DOC-EXECUTOR-TASKS","time":"2018-09-04T14:38:07.612Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":20,"func":"ExecutorQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Connected","time":"2018-09-04T14:38:07.678Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":20,"func":"DataQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Connected","time":"2018-09-04T14:38:07.678Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":16,"func":"StatusQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":" [*] Waiting for messages in DOC-EXECUTOR-TASKS","time":"2018-09-04T14:38:07.679Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":40,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Connected","time":"2018-09-04T14:38:07.679Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":23,"func":"ExecutorQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Message received {\"id\":\"3500b55c-5910-400d-a5c7-031df82e1076\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909\",\"datasetId\":\"0c097907-5434-4c06-8959-17c600318a3c\",\"fileUrl\":\"http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-09-04T14:38:07.682Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"message content { id: '3500b55c-5910-400d-a5c7-031df82e1076',\n  type: 'EXECUTION_CREATE',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  datasetId: '0c097907-5434-4c06-8959-17c600318a3c',\n  fileUrl: 'http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-09-04T14:38:07.682Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Create task","time":"2018-09-04T14:38:07.683Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Creating index","time":"2018-09-04T14:38:07.683Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Creating index index_0c09790754344c06895917c600318a3c_1536071887683 and type type in elastic","time":"2018-09-04T14:38:07.683Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Sending index created message of taskId b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909 and index index_0c09790754344c06895917c600318a3c_1536071887683","time":"2018-09-04T14:38:08.111Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '818b4744-1bd5-4621-9f7e-550d40f04612',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: 'b1dd4ac8-1482-4b8e-8dee-8c1c72b8e909',\n  index: 'index_0c09790754344c06895917c600318a3c_1536071887683' }","time":"2018-09-04T14:38:10.115Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Starting importing service","time":"2018-09-04T14:38:10.117Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Starting read file","time":"2018-09-04T14:38:10.118Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":53,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv","time":"2018-09-04T14:38:10.118Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-09-04T14:38:10.119Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":26,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Checking if the url http://data.humdata.org/dataset/d3657fc6-8cf9-45a0-94e0-306ed741ae4a/resource/ccf668ef-2cd2-4eea-83f3-feff57df8e55/download/fts_requirements_funding_yem.csv exists","time":"2018-09-04T14:38:10.119Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Headers  text/csv 200","time":"2018-09-04T14:38:11.482Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":60,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Downloading....","time":"2018-09-04T14:38:11.482Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":70,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Temporal path /tmp/utjKjMo77YodR6kQLa8SkGatZWUd7Rqc.csv . Downloading","time":"2018-09-04T14:38:11.482Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":72,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Sending request","time":"2018-09-04T14:38:11.483Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"File size: 1.5 KiB","time":"2018-09-04T14:38:12.699Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-09-04T14:38:12.699Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":74,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":20,"msg":"Starting process file","time":"2018-09-04T14:38:12.701Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at Function.asyncEach (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:31:10)\n    at ParserStream.__processRows (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:88:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:186:34","time":"2018-09-04T14:38:12.705Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at Immediate._onImmediate (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:20:33)\n    at runCallback (timers.js:800:20)\n    at tryOnImmediate (timers.js:762:5)","time":"2018-09-04T14:38:12.706Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.707Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.707Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.707Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.707Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.708Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.708Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.708Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.709Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.709Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.709Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":50,"msg":"Error generating TypeError: Assignment to constant variable.\n    at ImporterService.processRow (/opt/doc-executor/app/src/services/importer.service.js:152:29)\n    at emitOne (events.js:125:13)\n    at ParserStream.emit (events.js:221:7)\n    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)\n    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:325:13)\n    at addChunk (_stream_readable.js:265:12)\n    at readableAddChunk (_stream_readable.js:252:11)\n    at ParserStream.Readable.push (_stream_readable.js:209:10)\n    at ParserStream.Transform.push (_stream_transform.js:146:32)\n    at ParserStream.__emitRecord (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:202:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:96:38\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29\n    at ParserStream.__validate (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:278:16)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:69:26\n    at __transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:282:16)\n    at ParserStream.self.__transform (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:153:28)\n    at ParserStream.__parseLineData [as __handleLine] (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:65:18)\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:90:22\n    at asyncIterator (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:13:17)\n    at /opt/doc-executor/node_modules/fast-csv/lib/extended.js:23:29\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:103:25\n    at /opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:73:29","time":"2018-09-04T14:38:12.710Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":161,"func":"processRow"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Removing file /tmp/utjKjMo77YodR6kQLa8SkGatZWUd7Rqc.csv","time":"2018-09-04T14:38:12.710Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":55,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-5c49499bbf-dgwl6","pid":17,"level":30,"msg":"Total Row Count: 0","time":"2018-09-04T14:38:12.711Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
/opt/doc-executor/app/src/services/importer.service.js:70
                    rowCount = 0;
                             ^

TypeError: Assignment to constant variable.
    at ParserStream.stream.on (/opt/doc-executor/app/src/services/importer.service.js:70:30)
    at emitOne (events.js:130:20)
    at ParserStream.emit (events.js:221:7)
    at spreadArgs (/opt/doc-executor/node_modules/fast-csv/lib/extended.js:43:25)
    at ParserStream.emit (/opt/doc-executor/node_modules/fast-csv/lib/parser/parser_stream.js:314:17)
    at endReadableNT (_stream_readable.js:1054:12)
    at _combinedTickCallback (internal/process/next_tick.js:138:11)
    at process._tickDomainCallback (internal/process/next_tick.js:218:9)
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! doc-writer@1.0.0 start: `NODE_PATH=app/src node app/index.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the doc-writer@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/doc-executor/.npm/_logs/2018-09-04T14_38_12_719Z-debug.log
